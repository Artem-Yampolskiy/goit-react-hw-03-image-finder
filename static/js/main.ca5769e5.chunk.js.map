{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","services/ImagesApi.js","components/SearchBar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/SearchBar/Searchbar.module.css"],"names":["module","exports","api","fetchImages","searchQuery","currentPage","perPage","axios","get","then","response","data","hits","Searchbar","state","query","handelChange","event","setState","currentTarget","value","handelSubmit","preventDefault","props","onSubmit","className","styles","searchbar","searchForm","this","type","btn","btnLabel","input","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","image","onImageClick","item","src","webformatURL","alt","tags","onClick","largeImageURL","defaultProps","ImageGallery","images","imageGallery","map","id","Button","btnContainer","modalRoot","document","getElementById","Modal","largeImageSrc","handleKeyDown","code","onClose","handelOverlayClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","App","isLoading","error","showModal","handleGalleryItem","fullImageUrl","toggleModal","onChangeQuery","options","imagesApi","prevState","catch","finally","scrollWindow","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","shouldRenderLoadMoreButton","length","color","height","width","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ca5769e5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__DLRi_\",\"image\":\"ImageGalleryItem_image__2p0db\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__16las\",\"btnContainer\":\"Button_btnContainer__Ts1-g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__n1QZd\",\"modal\":\"Modal_modal__35dfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1nGwc\"};","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api\";\r\nconst API_KEY = \"21916614-7a53f7df19892a9cd44c5e501\";\r\n\r\nconst fetchImages = ({ searchQuery = ' ', currentPage = 1, perPage = 12 }) => {\r\n    return axios\r\n        .get(`${BASE_URL}/?q=${searchQuery}&page=${currentPage}&per_page=${perPage}&key=${API_KEY}&image_type=photo&orientation=horiszontal`,)\r\n        .then(response => response.data.hits);\r\n};\r\n\r\nconst api = { fetchImages };\r\n\r\nexport default api;","import { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handelChange = event => {\r\n    this.setState({ query: event.currentTarget.value });\r\n  };\r\n\r\n  handelSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm} onSubmit={this.handelSubmit}>\r\n          <button type=\"submit\" className={styles.btn}>\r\n            <span className={styles.btnLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autocomplete=\"off\"\r\n            autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handelChange}\r\n            value={this.state.query}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\n\r\nconst ImageGalleryItem = ({ image, onImageClick }) => {\r\n    const fullImageUrl = () => onImageClick(image.largeImageURL);\r\n\r\n    return (\r\n        <li className={styles.item}>\r\n            <img\r\n                className={styles.image}\r\n                src={image.webformatURL}\r\n                alt={image.tags}\r\n                onClick={fullImageUrl}\r\n            />\r\n        </li>\r\n    );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n    tags: '',\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    image: PropTypes.shape({\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        webformatURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string,\r\n    }).isRequired,\r\n    onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => (\r\n    <ul className={styles.imageGallery}>\r\n        {images.map(image => {\r\n            return (\r\n                <ImageGalleryItem\r\n                    key={image.id}\r\n                    image={image}\r\n                    onImageClick={onImageClick} />\r\n            );\r\n        })}\r\n    </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n        }),\r\n    ).isRequired,\r\n    onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\n\r\nconst Button = ({ onClick }) => (\r\n    <div className={styles.btnContainer}>\r\n        <button className={styles.btn} type='button' onClick={onClick}>\r\n            Load more\r\n        </button>\r\n    </div>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nclass Modal extends Component {\r\n    state = {\r\n        largeImageSrc: '',\r\n    };\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n    };\r\n\r\n    handleKeyDown = event => {\r\n        if (event.code === 'Escape') {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    handelOverlayClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={styles.overlay} onClick={this.handelOverlayClick}>\r\n                <div className={styles.modal}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;","import './App.css';\nimport { Component } from 'react';\nimport imagesApi from './services/ImagesApi';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    };\n\n    if (prevState.currentPage > 2) {\n      this.scrollWindow();\n    };\n  }\n\n  handleGalleryItem = fullImageUrl => {\n    this.setState({\n      largeImageURL: fullImageUrl, showModal\n        : true\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    imagesApi\n      .fetchImages(options)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  scrollWindow = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, largeImageURL } = this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt=\"\" className=\"modalImages\" />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h1>Ooops... Something went wrong</h1>}\n        {isLoading && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFF\"\n            height={50}\n            width={50}\n            className=\"loader\"\n          />\n        )}\n        <ImageGallery\n          images={images}\n          onImageClick={this.handleGalleryItem}\n        />\n        {shouldRenderLoadMoreButton && <Button\n          onClick={this.fetchImages} />}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1EHjy\",\"searchForm\":\"Searchbar_searchForm__2rDrj\",\"btn\":\"Searchbar_btn__2hE_m\",\"btnLabel\":\"Searchbar_btnLabel__XxesS\",\"input\":\"Searchbar_input__2sZ3P\",\"inputPlaceholder\":\"Searchbar_inputPlaceholder__1Teh4\"};"],"sourceRoot":""}